(this["webpackJsonpmt-lab2"]=this["webpackJsonpmt-lab2"]||[]).push([[0],{41:function(t,e,n){},42:function(t,e,n){},79:function(t,e,n){"use strict";n.r(e);var s,a=n(0),c=n.n(a),r=n(25),o=n.n(r),i=(n(41),n(22)),u=(n(42),n(43),n(33)),h=n(11),l=n(20);!function(t){t.VAR="variable",t.AND="and",t.OR="or",t.XOR="xor",t.NOT="not",t.LPAREN="(",t.RPAREN=")",t.END="$"}(s||(s={}));var p=[" ","\r","\n","\t"],d={and:s.AND,or:s.OR,xor:s.XOR,not:s.NOT},x=function(){function t(e){Object(h.a)(this,t),this.expression=void 0,this.curPos=-1,this.curChar=void 0,this.curToken=void 0,this.lastVariable=void 0,this.expression=e+"$"}return Object(l.a)(t,[{key:"nextToken",value:function(){switch(this.nextChar(),this.skipWS(),!0){case this.isLetter():return void(this.curToken=this.getVariableOrOperation());case this.isLParen():return void(this.curToken=s.LPAREN);case this.isRParen():return void(this.curToken=s.RPAREN);case this.isEnd():return void(this.curToken=s.END);default:throw new Error("Illegal char '".concat(this.curChar,"' at position ").concat(this.curPos))}}},{key:"getToken",value:function(){return this.curToken}},{key:"getPos",value:function(){return this.curPos}},{key:"getTokenName",value:function(){return this.curToken===s.VAR?this.lastVariable:this.curToken}},{key:"nextChar",value:function(){this.curChar=this.expression[++this.curPos]}},{key:"prevChar",value:function(){this.curChar=this.expression[--this.curPos]}},{key:"getVariableOrOperation",value:function(){for(var t="";this.isLetter();)t+=this.curChar,this.nextChar();if(this.prevChar(),this.lastVariable=1===t.length?t:"",!d[t]&&!this.lastVariable)throw new Error("Illegal variable '".concat(t,"' at pos ").concat(this.curPos));return d[t]||s.VAR}},{key:"isMatch",value:function(t){return t.test(this.curChar)}},{key:"isLetter",value:function(){return this.isMatch(/^[a-z]$/)}},{key:"isLParen",value:function(){return this.isMatch(/^\($/)}},{key:"isRParen",value:function(){return this.isMatch(/^\)$/)}},{key:"isEnd",value:function(){return this.isMatch(/^\$$/)}},{key:"skipWS",value:function(){for(;p.includes(this.curChar);)this.nextChar()}}]),t}(),v=0,f=function t(e){Object(h.a)(this,t),this.name=void 0,this.children=void 0,this.id=void 0,this.name=e,v>1e6&&(v=0),this.id=v++;for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];s.length&&(this.children=s)},k=n(21),b=function(){function t(){Object(h.a)(this,t),this.lex=void 0}return Object(l.a)(t,[{key:"parse",value:function(t){this.lex=new x(t),this.lex.nextToken();var e=this.E();if(this.lex.getToken()!==s.END)throw new k.AssertionError({message:"Unexpected token '".concat(this.lex.getToken(),"'")});return e}},{key:"E",value:function(){switch(this.lex.getToken()){case s.VAR:case s.NOT:case s.LPAREN:return new f("E",this.T(),this.E1());default:this.ExpectedError("variable, 'not' or '('")}}},{key:"E1",value:function(){switch(this.lex.getToken()){case s.OR:case s.XOR:var t=new f(this.lex.getTokenName());return this.lex.nextToken(),new f("E'",t,this.T(),this.E1());case s.RPAREN:case s.END:return new f("eps");default:this.ExpectedError("operation")}}},{key:"T",value:function(){switch(this.lex.getToken()){case s.VAR:case s.NOT:case s.LPAREN:return new f("T",this.F(),this.T1());default:this.ExpectedError("variable, 'not' or '('")}}},{key:"T1",value:function(){switch(this.lex.getToken()){case s.AND:var t=new f(this.lex.getTokenName());return this.lex.nextToken(),new f("T'",t,this.F(),this.T1());case s.OR:case s.XOR:case s.RPAREN:case s.END:return new f("eps");default:this.ExpectedError("operation")}}},{key:"F",value:function(){switch(this.lex.getToken()){case s.VAR:var t=new f(this.lex.getTokenName());return this.lex.nextToken(),new f("F",t);case s.NOT:var e=new f(this.lex.getTokenName());return this.lex.nextToken(),new f("F",e,this.F());case s.LPAREN:var n=[new f(this.lex.getTokenName())];if(this.lex.nextToken(),n.push(this.E()),this.lex.getToken()!==s.RPAREN)throw new k.AssertionError({message:"Unclosed brackets"});return n.push(new f(s.RPAREN)),this.lex.nextToken(),Object(u.a)(f,["F"].concat(n));default:this.ExpectedError("variable, 'not' or '('")}}},{key:"ExpectedError",value:function(t){var e=this.lex.getToken()===s.END?"'end of expression'":"'".concat(this.lex.getToken(),"'");throw new k.AssertionError({message:"Expected ".concat(t,", but got ").concat(e)})}}]),t}(),E=n(32),T=n.n(E),N=["a","b","c"],O=["or","xor","and"],w=function(t){return"not ".concat(t)},j=function(t){return"(".concat(t,")")},R=n(2);var g=function(){var t=Object(a.useState)("(a and b) or not (c xor (a or not b))"),e=Object(i.a)(t,2),n=e[0],s=e[1],c=Object(a.useState)(""),r=Object(i.a)(c,2),o=r[0],u=r[1],h=Object(a.useState)(new f("")),l=Object(i.a)(h,2),p=l[0],d=l[1],x=Object(a.useRef)(null),v=Object(a.useMemo)((function(){return function(){var t=[];return N.forEach((function(e){t.push(e),t.push(w(e)),t.push(w(w(e))),t.push(j(w(e))),t.push(j(j(e))),t.push(w(j(e))),O.forEach((function(n){t.push("".concat(e," ").concat(n," ").concat(e)),t.push(j("".concat(e," ").concat(n," ").concat(e))),t.push("".concat(j("".concat(e," ").concat(n," ").concat(e))," ").concat(n," ").concat(e)),t.push("".concat(j("".concat(e," ").concat(n," ").concat(e))," ").concat(n," ").concat(j("".concat(e," ").concat(n," ").concat(e)))),t.push(w("".concat(e," ").concat(n," ").concat(e))),t.push(w(j("".concat(w(e)," ").concat(n," ").concat(w(e))))),t.push(w("".concat(j("".concat(w(e)," ").concat(n," ").concat(w(e)))," ").concat(n," ").concat(w(e)))),t.push(w("".concat(j("".concat(w(e)," ").concat(n," ").concat(w(e)))," ").concat(n," ").concat(j("".concat(w(e)," ").concat(n," ").concat(w(e))))))})),t.push("(a and b) or not (c xor (a or not b))"),t.push("a and not (b or not c)"),t.push("not a and (not b or x)"),t.push("(a xor not a) or (x and not not b)")})),t}()}),[]),k=Object(a.useMemo)((function(){return function(){var t=[];return t.push(""),t.push("("),t.push(")"),t.push("()"),t.push("(a"),t.push("a)"),t.push("not"),t.push("not ("),t.push("not )"),t.push("(not)"),t.push("a not"),t.push("a a"),t.push("A"),t.push("asd"),t.push("anot"),t.push("a(not"),t.push("and"),t.push("or"),t.push("xor"),t.push("nota"),t.push("ora"),t.push("xora"),t.push("anda"),t.push("( and"),t.push("( or"),t.push("( xor"),t.push("( a and"),t.push("( a or"),t.push("( a xor"),t.push("( a and)"),t.push("( a or)"),t.push("( a xor)"),t.push("a and and"),t.push("a or or"),t.push("a xor xor"),t.push("a and or"),t.push("not and"),t}()}),[]);Object(a.useEffect)((function(){try{u(""),x.current.classList.remove("warn");var t=(new b).parse(n);d(t),x.current.classList.add("success")}catch(e){x.current.classList.remove("success"),x.current.classList.add("warn"),u(e.message)}}),[n]);var E=function(){s(x.current.value)},g=function(t){x.current.value=t[Math.floor(Math.random()*t.length)],E()};return Object(R.jsxs)("div",{className:"App",children:[p&&Object(R.jsx)("div",{id:"treeWrapper",style:{width:"100vw",height:"100vh"},children:Object(R.jsx)(T.a,{data:p,rootNodeClassName:"node__root",branchNodeClassName:"node__branch",leafNodeClassName:"node__leaf",orientation:"vertical"})}),Object(R.jsxs)("div",{className:"input_expression",children:[Object(R.jsxs)("div",{className:"suggests",children:[Object(R.jsx)("button",{onClick:function(){return g(v)},children:"GENERATE VALID"}),Object(R.jsx)("button",{onClick:function(){return g(k)},children:"GENERATE INVALID"})]}),Object(R.jsx)("input",{type:"text",defaultValue:n,ref:x,onKeyDown:function(t){"Enter"===t.key&&E()}}),Object(R.jsx)("div",{className:"error",children:o})]})]})};o.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(g,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.54955b1c.chunk.js.map