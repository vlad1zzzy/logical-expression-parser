(this["webpackJsonpmt-lab2"]=this["webpackJsonpmt-lab2"]||[]).push([[0],{44:function(t,e,n){},45:function(t,e,n){},82:function(t,e,n){"use strict";n.r(e);var a,s=n(0),c=n.n(s),o=n(29),r=n.n(o),i=(n(44),n(26)),u=(n(45),n(46),n(9)),h=n(8),l=n(13),p=n(25);!function(t){t[t.VAR=0]="VAR",t.AND="and",t.OR="or",t.XOR="xor",t.NOT="not",t.LPAREN="(",t.RPAREN=")",t.END="$"}(a||(a={}));var d=[" ","\r","\n","\t"],f={and:a.AND,or:a.OR,xor:a.XOR,not:a.NOT},x=function(){function t(e){Object(l.a)(this,t),this.expression=void 0,this.curPos=-1,this.curChar=void 0,this.curToken=void 0,this.lastVariable=void 0,this.expression=e+"$"}return Object(p.a)(t,[{key:"nextToken",value:function(){switch(this.nextChar(),this.skipWS(),!0){case this.isLetter():return void(this.curToken=this.getVariableOrOperation());case this.isLParen():return void(this.curToken=a.LPAREN);case this.isRParen():return void(this.curToken=a.RPAREN);case this.isEnd():return void(this.curToken=a.END);default:throw new Error("Illegal char '".concat(this.curChar,"' at position ").concat(this.curPos))}}},{key:"getToken",value:function(){return this.curToken}},{key:"getPos",value:function(){return this.curPos}},{key:"getTokenName",value:function(){return this.curToken===a.VAR?this.lastVariable:this.curToken}},{key:"nextChar",value:function(){this.curChar=this.expression[++this.curPos]}},{key:"prevChar",value:function(){this.curChar=this.expression[--this.curPos]}},{key:"getVariableOrOperation",value:function(){for(var t="";this.isLetter();)t+=this.curChar,this.nextChar();if(this.prevChar(),this.lastVariable=1===t.length?t:"",!f[t]&&!this.lastVariable)throw new Error("Illegal variable '".concat(t,"' at pos ").concat(this.curPos));return f[t]||a.VAR}},{key:"isMatch",value:function(t){return t.test(this.curChar)}},{key:"isLetter",value:function(){return this.isMatch(/^[a-z]$/)}},{key:"isLParen",value:function(){return this.isMatch(/^\($/)}},{key:"isRParen",value:function(){return this.isMatch(/^\)$/)}},{key:"isEnd",value:function(){return this.isMatch(/^\$$/)}},{key:"skipWS",value:function(){for(;d.includes(this.curChar);)this.nextChar()}}]),t}(),v=0,b=function t(e){Object(l.a)(this,t),this.name=void 0,this.children=void 0,this.id=void 0,this.name=e,v>1e6&&(v=0),this.id=v++;for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];a.length&&(this.children=a)},k=n(15),O=function(){function t(){Object(l.a)(this,t),this.lex=void 0}return Object(p.a)(t,[{key:"parse",value:function(t){this.lex=new x(t),this.lex.nextToken();var e=this.E();if(this.lex.getToken()!==a.END)throw new k.AssertionError({message:"Invalid expression"});return e}},{key:"E",value:function(){switch(this.lex.getToken()){case a.VAR:case a.NOT:case a.LPAREN:return Object(u.a)(b,["E"].concat(Object(h.a)(t.getNonEmpty(this.T(),this.E1()))));default:throw new k.AssertionError({message:"Expected variable, 'not' or '('"})}}},{key:"E1",value:function(){switch(this.lex.getToken()){case a.OR:case a.XOR:var e=new b(this.lex.getTokenName());return this.lex.nextToken(),Object(u.a)(b,["E'"].concat(Object(h.a)(t.getNonEmpty(e,this.T(),this.E1()))));default:return""}}},{key:"T",value:function(){switch(this.lex.getToken()){case a.VAR:case a.NOT:case a.LPAREN:return Object(u.a)(b,["T"].concat(Object(h.a)(t.getNonEmpty(this.F(),this.T1()))));default:throw new k.AssertionError({message:"Expected variable, 'not' or '('"})}}},{key:"T1",value:function(){if(this.lex.getToken()===a.AND){var e=new b(this.lex.getTokenName());return this.lex.nextToken(),Object(u.a)(b,["T'"].concat(Object(h.a)(t.getNonEmpty(e,this.F(),this.T1()))))}return""}},{key:"F",value:function(){switch(this.lex.getToken()){case a.VAR:var e=new b(this.lex.getTokenName());return this.lex.nextToken(),new b("F",e);case a.NOT:var n=new b(this.lex.getTokenName());return this.lex.nextToken(),Object(u.a)(b,["F"].concat(Object(h.a)(t.getNonEmpty(n,this.F()))));case a.LPAREN:var s=[new b(this.lex.getTokenName())];if(this.lex.nextToken(),s.push(this.E()),this.lex.getToken()!==a.RPAREN)throw new k.AssertionError({message:"Unclosed brackets"});return s.push(new b(a.RPAREN)),this.lex.nextToken(),Object(u.a)(b,["F"].concat(Object(h.a)(t.getNonEmpty.apply(t,s))));default:throw new k.AssertionError({message:"Expected variable, 'not' or '('"})}}}],[{key:"getNonEmpty",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return""!==t}))}}]),t}(),E=O,j=n(36),N=n.n(j),T=["a","b","c"],g=["or","xor","and"],m=function(t){return"not ".concat(t)},w=function(t){return"(".concat(t,")")},y=n(2);var A=function(){var t=Object(s.useState)("(a and b) or not (c xor (a or not b))"),e=Object(i.a)(t,2),n=e[0],a=e[1],c=Object(s.useState)(""),o=Object(i.a)(c,2),r=o[0],u=o[1],h=Object(s.useState)(""),l=Object(i.a)(h,2),p=l[0],d=l[1],f=Object(s.useRef)(null),x=Object(s.useMemo)((function(){return function(){var t=[];return T.forEach((function(e){t.push(e),t.push(m(e)),t.push(m(m(e))),t.push(w(m(e))),t.push(w(w(e))),t.push(m(w(e))),g.forEach((function(n){t.push("".concat(e," ").concat(n," ").concat(e)),t.push(w("".concat(e," ").concat(n," ").concat(e))),t.push("".concat(w("".concat(e," ").concat(n," ").concat(e))," ").concat(n," ").concat(e)),t.push("".concat(w("".concat(e," ").concat(n," ").concat(e))," ").concat(n," ").concat(w("".concat(e," ").concat(n," ").concat(e)))),t.push(m("".concat(e," ").concat(n," ").concat(e))),t.push(m(w("".concat(m(e)," ").concat(n," ").concat(m(e))))),t.push(m("".concat(w("".concat(m(e)," ").concat(n," ").concat(m(e)))," ").concat(n," ").concat(m(e)))),t.push(m("".concat(w("".concat(m(e)," ").concat(n," ").concat(m(e)))," ").concat(n," ").concat(w("".concat(m(e)," ").concat(n," ").concat(m(e))))))})),t.push("(a and b) or not (c xor (a or not b))"),t.push("a and not (b or not c)"),t.push("not a and (not b or x)"),t.push("(a xor not a) or (x and not not b)")})),t}()}),[]),v=Object(s.useMemo)((function(){return function(){var t=[];return t.push(""),t.push("("),t.push(")"),t.push("()"),t.push("(a"),t.push("a)"),t.push("not"),t.push("not ("),t.push("not )"),t.push("(not)"),t.push("a not"),t.push("a a"),t.push("A"),t.push("asd"),t.push("anot"),t.push("a(not"),t.push("and"),t.push("or"),t.push("xor"),t.push("nota"),t.push("ora"),t.push("xora"),t.push("anda"),t.push("( and"),t.push("( or"),t.push("( xor"),t.push("( a and"),t.push("( a or"),t.push("( a xor"),t.push("( a and)"),t.push("( a or)"),t.push("( a xor)"),t.push("a and and"),t.push("a or or"),t.push("a xor xor"),t.push("a and or"),t.push("not and"),t}()}),[]);Object(s.useEffect)((function(){try{u(""),f.current.classList.remove("warn");var t=(new E).parse(n);d(t),f.current.classList.add("success")}catch(e){f.current.classList.remove("success"),f.current.classList.add("warn"),u(e.message)}}),[n]);var b=function(){a(f.current.value)},k=function(t){f.current.value=t[Math.floor(Math.random()*t.length)],b()};return Object(y.jsxs)("div",{className:"App",children:[p&&Object(y.jsx)("div",{id:"treeWrapper",style:{width:"100vw",height:"100vh"},children:Object(y.jsx)(N.a,{data:p,rootNodeClassName:"node__root",branchNodeClassName:"node__branch",leafNodeClassName:"node__leaf",orientation:"vertical"})}),Object(y.jsxs)("div",{className:"input_expression",children:[Object(y.jsxs)("div",{className:"suggests",children:[Object(y.jsx)("button",{onClick:function(){return k(x)},children:"GENERATE VALID"}),Object(y.jsx)("button",{onClick:function(){return k(v)},children:"GENERATE INVALID"})]}),Object(y.jsx)("input",{type:"text",defaultValue:n,ref:f,onKeyDown:function(t){"Enter"===t.key&&b()}}),Object(y.jsx)("div",{className:"error",children:r})]})]})};r.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(A,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.6f48ce86.chunk.js.map